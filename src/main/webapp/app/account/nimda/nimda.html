<div ng-cloak>
    <div class="row">

            <div ng-switch="vm.isAuthenticated()">
                <div  ng-switch-when="true">
                    <h1>Welcome {{vm.account.firstName +' '+vm.account.lastName}}</h1>
                    <form name="form" role="form" novalidate>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Titre</label>
                            <input type="text" name="titre" ng-model="vm.titre" class="form-control" id="exampleInputEmail1" placeholder="Titre">
                        </div>
                        <div class="form-group">
                            <input type='file' ng-model='vm.img' base-sixty-four-input>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" name="urgent" ng-model="vm.urgent"> C'est Urgent ?
                            </label>
                        </div>
                        <button type="button" class="btn btn-default" ng-click="vm.submit()">Submit</button>
                    </form>
                    <div class="span6">
                        <span ng-if="!vm.news || vm.news.length ==0">
                           Pas de news, plz create news
                        </span>
                        <table ng-if="vm.news && vm.news.length > 0" class="table table-striped table-condensed">
                            <thead>
                            <tr>
                                <th style="min-width: 80px;">Titre</th>
                                <th style="min-width: 80px;">Urgent</th>
                                <th style="min-width: 80px;">Image</th>
                                <th style="width:20px;"> </th>
                                <th style="width:20px;"> </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in vm.news">
                                <td>{{ item.titre }}</td>
                                <td><input type="checkbox" name="urgent" ng-model="item.urgent"></td>
                                <td><img src="{{'content/images/download/'+item.image.filename}}" class="imgDimension"></td>
                                <td><a ng-click="vm.editNews(item)" class="btn btn-small btn-primary">edit</a></td>
                                <td><a ng-click="vm.deleteNews(item.id)" class="btn btn-small btn-danger">delete</a></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div ng-init="vm.login()"  ng-switch-when="false">
                    <h1>Welcome</h1>
                    If you want to <a class="alert-link" href="" ng-click="vm.login()">sign in</a>, you can try the default accounts:<br/>- Administrator (login="admin" and password="admin") <br/>- User (login="user" and password="user").
                </div>

            </div>


    </div>
</div>
